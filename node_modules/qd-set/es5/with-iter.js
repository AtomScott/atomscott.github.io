"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Set = void 0;

var iter = function iter(a) {
  var i = 0;
  var ac = a.map(function (x) {
    return {
      value: x,
      done: false
    };
  });
  var it = {
    next: function next() {
      return i < ac.length ? ac[i++] : {
        done: true
      };
    }
  };
  if (Symbol) it[Symbol.iterator] = function () {
    return it;
  };
  return it;
};

var _Set = typeof Set !== 'undefined' && new Set([1]).size === 1 ? Set : function () {
  var a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  a = a.filter(function (x, i) {
    return i === a.indexOf(x);
  });
  a.size = a.length;

  a.has = function (x) {
    return a.indexOf(x) > -1;
  };

  a.add = function (x) {
    if (!a.has(x)) {
      a.size++;
      a.push(x);
    }

    return a;
  };

  a.delete = function (x) {
    var t;

    if (t = a.has(x)) {
      a.size--;
      a.splice(a.indexOf(x), 1);
    }

    return t;
  };

  a.clear = function () {
    while (a.pop()) {}

    a.size = 0;
  };

  a.keys = a.values = function () {
    return iter(a);
  };

  a.entries = function () {
    return iter(a.map(function (x) {
      return [x, x];
    }));
  };

  if (Symbol) a[Symbol.iterator] = a.values;
  return a;
};

exports.Set = _Set;